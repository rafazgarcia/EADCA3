#pragma checksum "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "117b75575829b80108406b36bcb46bed325ff33c"
// <auto-generated/>
#pragma warning disable 1591
namespace EADCA3.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 2 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\_Imports.razor"
using EADCA3;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\_Imports.razor"
using EADCA3.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
using System.Text.RegularExpressions;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    public partial class Index : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\r\n\r\n");
            __builder.AddMarkupContent(1, @"<style>

    body {
        font-family: Arial;
    }

    * {
        box-sizing: border-box;
    }

    form.example input[type=text] {
        padding: 10px;
        font-size: 17px;
        border: 1px solid grey;
        float: left;
        width: 80%;
        background: #f1f1f1;
    }

    form.example button {
        float: left;
        width: 20%;
        padding: 10px;
        background: #2196F3;
        color: white;
        font-size: 17px;
        border: 1px solid grey;
        border-left: none;
        cursor: pointer;
    }

        form.example button:hover {
            background: #0b7dda;
        }

    form.example::after {
        content: """";
        clear: both;
        display: table;
    }

    .card {
        /* Add shadows to create the ""card"" effect */
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        height: 30%;
        width: 30%;
    }

        /* On mouse-over, add a deeper shadow */
        .card:hover {
            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
        }

    /* Add some padding inside the card container */
    .container {
        padding: 2px 16px;
    }
</style>


");
            __builder.AddMarkupContent(2, "<h1>Food Recipes</h1>\r\n\r\n    Enjoy some meal recipes below. Or use the search engine to find a specific meal!\r\n<br>\r\n<br>\r\n");
            __builder.OpenElement(3, "div");
            __builder.AddMarkupContent(4, "\r\n    ");
            __builder.AddMarkupContent(5, "<label for=\"Recipe\">Recipe : </label>\r\n    ");
            __builder.OpenElement(6, "input");
            __builder.AddAttribute(7, "id", "Recipe");
            __builder.AddAttribute(8, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 79 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
                              this.meal

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(9, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => this.meal = __value, this.meal));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(10, "\r\n    ");
            __builder.OpenElement(11, "button");
            __builder.AddAttribute(12, "id", "RecipeButton");
            __builder.AddAttribute(13, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 80 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
                                        searchRecipe

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(14, "Search");
            __builder.CloseElement();
            __builder.AddMarkupContent(15, "\r\n");
#nullable restore
#line 81 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
     if(this.invalidInput == true)
    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(16, "        ");
            __builder.AddMarkupContent(17, "<p>Invalid input</p>\r\n");
#nullable restore
#line 84 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(18, "\r\n<br>\r\n<br>\r\n\r\n\r\n");
#nullable restore
#line 90 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
 if (found == false)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(19, "    ");
            __builder.AddMarkupContent(20, "<div>\r\n        <p>Data not found</p>\r\n    </div>\r\n");
#nullable restore
#line 95 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
}

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(21, "\r\n");
#nullable restore
#line 97 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
 if (found == true)
{
    

#line default
#line hidden
#nullable disable
#nullable restore
#line 99 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
     for (int i = 0; i < data.meals.Count; i++)
    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(22, "        ");
            __builder.OpenElement(23, "div");
            __builder.AddAttribute(24, "class", "card");
            __builder.AddMarkupContent(25, "\r\n            ");
            __builder.OpenElement(26, "img");
            __builder.AddAttribute(27, "src", 
#nullable restore
#line 102 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
                       data.meals.ElementAt(i).strMealThumb

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(28, "alt", "Avatar");
            __builder.AddAttribute(29, "style", "width:100%");
            __builder.CloseElement();
            __builder.AddMarkupContent(30, "\r\n            ");
            __builder.OpenElement(31, "div");
            __builder.AddAttribute(32, "class", "container");
            __builder.AddMarkupContent(33, "\r\n                ");
            __builder.OpenElement(34, "h4");
            __builder.OpenElement(35, "b");
            __builder.AddContent(36, 
#nullable restore
#line 104 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
                        data.meals.ElementAt(i).strMeal

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(37, "\r\n                ");
            __builder.OpenElement(38, "p");
            __builder.AddContent(39, "Tags : ");
            __builder.AddContent(40, 
#nullable restore
#line 105 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
                           data.meals.ElementAt(i).strTags

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(41, "\r\n                ");
            __builder.OpenElement(42, "a");
            __builder.AddAttribute(43, "href", 
#nullable restore
#line 106 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
                          data.meals.ElementAt(i).strYoutube

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(44, "target", "_blank");
            __builder.AddContent(45, "Check full recipe on Youtube");
            __builder.CloseElement();
            __builder.AddMarkupContent(46, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(47, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\r\n        <br>\r\n        <br>\r\n");
#nullable restore
#line 111 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 111 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
     
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 116 "C:\Users\dj_ra\source\repos\EADCA3\EADCA3\Pages\Index.razor"
      
    //Root myDeserializedClass = JsonConvert.DeserializeObject<Root>(myJsonResponse);

    private bool found;

    private Root data;

    private bool nullString;
    private bool invalidInput;
    private String meal;
    private string errorMessage;

    public String getMeal()
    {
        return this.meal;
    }

    public void setMeal(string m)
    {
        this.meal = m;
    }

    public bool getInvalidInput()
    {
        return this.invalidInput;
    }

    public async Task getFoodAsync()
    {
        try
        {

            string uri = "https://www.themealdb.com/api/json/v1/1/search.php?s=" + this.meal;
            data = await Http.GetFromJsonAsync<Root>(uri);
            found = true;
            errorMessage = String.Empty;
        }
        catch (Exception e)
        {
            found = false;
            errorMessage = e.Message;
        }
    }

    //for testing
    public int totalRecipes(string meal)
    {
        this.meal = meal;

        int total = data.meals.Count;

        return total;
    }

    //Lifecycle method
    protected override async Task OnInitializedAsync()
    {
        await getFoodAsync();
    }

    public async void searchRecipe()
    {
        Regex rx = new Regex(@"^[a-zA-Z0-9\s]+$");
        if (this.meal != null)
        {
           this.nullString = false;
           if (rx.IsMatch(this.meal) == false)
            {
                this.invalidInput = true;
            }
            else
            {
                await getFoodAsync();
                StateHasChanged();
                this.invalidInput = false;
            }
        }
        else
        {
            this.nullString = true;
        }

    }


    // Root myDeserializedClass = JsonConvert.DeserializeObject<Root>(myJsonResponse);
    public class Meal
    {

        public string idMeal { get; set; }
        public string strMeal { get; set; }
        public object strDrinkAlternate { get; set; }
        public string strCategory { get; set; }
        public string strArea { get; set; }
        public string strInstructions { get; set; }
        public string strMealThumb { get; set; }
        public string strTags { get; set; }
        public string strYoutube { get; set; }
        public string strIngredient1 { get; set; }
        public string strIngredient2 { get; set; }
        public string strIngredient3 { get; set; }
        public string strIngredient4 { get; set; }
        public string strIngredient5 { get; set; }
        public string strIngredient6 { get; set; }
        public string strIngredient7 { get; set; }
        public string strIngredient8 { get; set; }
        public string strIngredient9 { get; set; }
        public string strIngredient10 { get; set; }
        public string strIngredient11 { get; set; }
        public string strIngredient12 { get; set; }
        public string strIngredient13 { get; set; }
        public string strIngredient14 { get; set; }
        public string strIngredient15 { get; set; }
        public object strIngredient16 { get; set; }
        public object strIngredient17 { get; set; }
        public object strIngredient18 { get; set; }
        public object strIngredient19 { get; set; }
        public object strIngredient20 { get; set; }
        public string strMeasure1 { get; set; }
        public string strMeasure2 { get; set; }
        public string strMeasure3 { get; set; }
        public string strMeasure4 { get; set; }
        public string strMeasure5 { get; set; }
        public string strMeasure6 { get; set; }
        public string strMeasure7 { get; set; }
        public string strMeasure8 { get; set; }
        public string strMeasure9 { get; set; }
        public string strMeasure10 { get; set; }
        public string strMeasure11 { get; set; }
        public string strMeasure12 { get; set; }
        public string strMeasure13 { get; set; }
        public string strMeasure14 { get; set; }
        public string strMeasure15 { get; set; }
        public object strMeasure16 { get; set; }
        public object strMeasure17 { get; set; }
        public object strMeasure18 { get; set; }
        public object strMeasure19 { get; set; }
        public object strMeasure20 { get; set; }
        public object strSource { get; set; }
        public object dateModified { get; set; }

    }

    public class Root
    {
        public List<Meal> meals { get; set; }
    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
    }
}
#pragma warning restore 1591
